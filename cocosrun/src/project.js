require=function t(n,e,o){function i(s,c){if(!e[s]){if(!n[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[s]={exports:{}};n[s][0].call(l.exports,function(t){var e=n[s][1][t];return i(e||t)},l,l.exports,t,n,e,o)}return e[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({Camera:[function(t,n,e){"use strict";cc._RF.push(n,"f5f96qglJhBOZniRHz030Bh","Camera"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],CocosRun:[function(t,n,e){"use strict";cc._RF.push(n,"860baUaJupJvZio58yXSg4b","CocosRun");var o=cc.Class({init:function(){this.eventTarget=new cc.EventTarget},on:function(t,n){this.eventTarget.on(t,n,this.eventTarget,!1)},once:function(t,n){this.eventTarget.once(t,n,this.eventTarget,!1)},off:function(t,n){this.eventTarget.off(t,n,this.eventTarget,!1)},emit:function(t,n){this.eventTarget.emit(t,n)},dispatchEvent:function(t){this.eventTarget.dispatchEvent(t)}});n.exports=o,cc._RF.pop()},{}],CrCamera:[function(t,n,e){"use strict";cc._RF.push(n,"810e9t2mipB9Jkndy/QNTTy","CrCamera");var o=cc.Enum({H:-1,V:-1,ALL:-1});cc.Class({extends:cc.Camera,properties:{followingTarget:cc.Node,dirction:{type:o,default:o.ALL},enable:!1},onLoad:function(){this.node.x=cc.winSize.width/2,this.node.y=cc.winSize.height/2,this.offsetX=this.node.convertToWorldSpaceAR().x-this.followingTarget.convertToWorldSpaceAR().x,this.offsetY=this.node.convertToWorldSpaceAR().y-this.followingTarget.convertToWorldSpaceAR().y},init:function(){this.enable=!0},onEnable:function(){this._super(),cc.director.getPhysicsManager().attachDebugDrawToCamera(this)},onDisable:function(){this._super(),cc.director.getPhysicsManager().detachDebugDrawFromCamera(this)},update:function(t){if(this.enable){var n=this.followingTarget.convertToWorldSpaceAR(),e=this.node.parent.convertToNodeSpaceAR(n);this.node.x=e.x+this.offsetX}}}),cc._RF.pop()},{}],CrMapController:[function(t,n,e){"use strict";cc._RF.push(n,"ecb59dmZ5dEf5TMqTqL10cs","CrMapController");var o=cc.Class({init:function(t){this.crMap=t,this.crMap.init(this)},initRoad:function(){this.crMap.initRoad()},getFirstRoad:function(){return this.crMap.getFirstRoad()},getLastRoad:function(){return this.crMap.getLastRoad()},removeRoad:function(){this.crMap.removeRoad()},addRoad:function(){this.crMap.addRoad()}});n.exports=o,cc._RF.pop()},{}],CrMap:[function(t,n,e){"use strict";cc._RF.push(n,"7d0fbV/ZAdBKbns8YIAMHDm","CrMap");var o=t("CrCamera");cc.Class({extends:cc.Component,properties:{roadLayout:cc.Node,roadPrefabs:[cc.Prefab],crCamera:o,enable:!1},init:function(t){this.controller=t,this.enable=!0,this.crCamera.init(),this.roadPools=[];for(var n=0;n<this.roadPrefabs.length;n++){this.roadPools[n]=new cc.NodePool;for(var e=0;e<3;e++){var o=cc.instantiate(this.roadPrefabs[n]);this.roadPools[n].put(o)}}this.initRoad()},initRoad:function(){this.roadLayout.removeAllChildren(),this.roads=[];for(var t=0;t<3;t++)this.addRoad()},getFirstRoad:function(){return this.roads[0]},getLastRoad:function(){return this.roads[this.roads.length-1]},removeRoad:function(){var t=this.roads.shift();t.roadNode.removeFromParent(!1),this.roadPools[t.roadIndex].put(t.roadNode)},addRoad:function(){var t=Math.floor(Math.random()*this.roadPrefabs.length),n=null;n=this.roadPools[t].size()>0?this.roadPools[t].get():cc.instantiate(this.roadPrefabs[t]);var e=this.getLastRoad();n.x=e?e.roadNode.x+e.roadNode.width:-480,n.y=0,this.roadLayout.addChild(n),this.roads.push({roadIndex:t,roadNode:n})},update:function(t){if(this.enable){var n=this.controller.getFirstRoad().roadNode;n.convertToWorldSpaceAR().x<this.crCamera.node.x-n.width-this.crCamera.offsetX&&(this.controller.removeRoad(),this.controller.addRoad())}}}),cc._RF.pop()},{CrCamera:"CrCamera"}],Game:[function(t,n,e){"use strict";cc._RF.push(n,"dc52fzWVapHKL6xjHiEgq7N","Game"),cc.Class({extends:cc.Component,properties:{node1:cc.Node,node2:cc.Node},onLoad:function(){cc.director.getPhysicsManager().enabled=!0;var t=cc.instantiate(this.node1);t.y+=200,t.parent=this.node;var n=cc.instantiate(this.node2);n.y+=200,n.parent=this.node}}),cc._RF.pop()},{}],LodingScene:[function(t,n,e){"use strict";cc._RF.push(n,"76bb7shD51MxJ+uoAQP6qAj","LodingScene");var o=t("CocosRun"),i=t("MenuController");cc.Class({extends:cc.Component,properties:{},onLoad:function(){window.CR=new o,CR.init(),(new i).showMenuScene()}}),cc._RF.pop()},{CocosRun:"CocosRun",MenuController:"MenuController"}],MapGetFirstRoadEvent:[function(t,n,e){"use strict";cc._RF.push(n,"1689fMcg0pIc6SBSdmW1mVH","MapGetFirstRoadEvent"),cc.Class({extends:cc.Event.EventCustom,properties:{firstNode:cc.Node},statics:{Name:"GetItemByDestinationEvent"},init:function(){}}),cc._RF.pop()},{}],MapUpdateRoadEvent:[function(t,n,e){"use strict";cc._RF.push(n,"0c459RdCyFAZY7RW3GjpvmX","MapUpdateRoadEvent"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){}}),cc._RF.pop()},{}],MenuController:[function(t,n,e){"use strict";cc._RF.push(n,"c81509HYChHFrHfNRv/yUGd","MenuController");var o=cc.Class({showMenuScene:function(){var t=this;cc.director.loadScene("menu",function(n,e){t.menuScene=e.getChildByName("Canvas").getComponent("MenuScene"),t.menuScene.init(t)})}});n.exports=o,cc._RF.pop()},{}],MenuScene:[function(t,n,e){"use strict";cc._RF.push(n,"96619IUPrZB57fxloiGcjbQ","MenuScene");var o=t("RunningController");cc.Class({extends:cc.Component,properties:{},onLoad:function(){},init:function(t){this.controller=t},onBtnStart:function(){this.showRunningScene()},showRunningScene:function(){(new o).showRunningScene()}}),cc._RF.pop()},{RunningController:"RunningController"}],OverController:[function(t,n,e){"use strict";cc._RF.push(n,"2d96dSWmmtDEZ8Je2ISjQ7q","OverController");var o=t("OverModel"),i=cc.Class({ctor:function(){this.model=new o},setOverScore:function(t){this.model.setOverScore(t)},getOverScore:function(){return this.model.getOverScore()},showOverScene:function(){var t=this;cc.director.loadScene("over",function(n,e){t.overScene=e.getChildByName("Canvas").getComponent("OverScene"),t.overScene.init(t)})}});n.exports=i,cc._RF.pop()},{OverModel:"OverModel"}],OverModel:[function(t,n,e){"use strict";cc._RF.push(n,"45be8LQsNVLFrypu5MU6Tgu","OverModel");var o=cc.Class({properties:{overScore:0},setOverScore:function(t){this.overScore=t},getOverScore:function(){return this.overScore}});n.exports=o,cc._RF.pop()},{}],OverScene:[function(t,n,e){"use strict";cc._RF.push(n,"df90fbcKZ5HsbIcN+D8uq9v","OverScene");var o=t("RunningController"),i=t("MenuController");cc.Class({extends:cc.Component,properties:{overScoreLabel:cc.Label},init:function(t){this.controller=t,this.overScoreLabel.string=this.controller.getOverScore()+"ç±³"},onBtnReturnMenu:function(){(new i).showMenuScene()},onBtnAgain:function(){(new o).showRunningScene()}}),cc._RF.pop()},{MenuController:"MenuController",RunningController:"RunningController"}],PlayerController:[function(t,n,e){"use strict";cc._RF.push(n,"7aa57tuDxlNLI0YSnJWF7R/","PlayerController");var o=t("state-machine"),i=cc.Class({extends:o.factory({init:"none",transitions:[{name:"run",from:"none",to:"running"},{name:"jump1",from:"running",to:"jumping1"},{name:"jump2",from:"jumping1",to:"jumping2"},{name:"drop",from:["jumping1","jumping2"],to:"droping"},{name:"land",from:["jumping1","jumping2","droping"],to:"running"}]}),init:function(t){window.playerController=this,this.player=t,this.player.init(this)},onTryJump:function(){this.can("jump1")?this.jump1():this.can("jump2")&&this.jump2()},onTryDrop:function(){this.can("drop")&&this.drop()},onTryLand:function(){this.can("land")&&this.land()},onRun:function(){this.player.run()},onJump1:function(){this.player.jump1()},onJump2:function(){this.player.jump2()},onDrop:function(){this.player.drop()},onLand:function(){this.player.land()},getRunDistance:function(){return this.player.getRunDistance()},accelerate:function(){this.player.accelerate(100)},getRunSpeed:function(){return this.player.getRunSpeed()},getPlayerPosition:function(){return this.player.node.position}});n.exports=i,cc._RF.pop()},{"state-machine":"state-machine"}],PlayerDeadEvent:[function(t,n,e){"use strict";cc._RF.push(n,"1511bQSNUVIy7Zftxg1CZ27","PlayerDeadEvent");var o=cc.Class({extends:cc.Event.EventCustom,properties:{distance:0},statics:{Name:"PlayerDeadEvent"},ctor:function(){this.constructor(o.Name,!0)},setDistance:function(t){this.distance=t}});n.exports=o,cc._RF.pop()},{}],PlayerFsm:[function(t,n,e){"use strict";cc._RF.push(n,"08db6Udg5REibvh3em1DMsq","PlayerFsm");var o=t("state-machine").factory({init:"none",transitions:[{name:"start",from:"none",to:"running"},{name:"jump1",from:"running",to:"jumping1"},{name:"jump2",from:"jumping1",to:"jumping2"},{name:"drop",from:["jumping1","jumping2"],to:"droping"},{name:"land",from:["jumping1","jumping2","droping"],to:"running"}]});n.exports=o,cc._RF.pop()},{"state-machine":"state-machine"}],Player:[function(t,n,e){"use strict";cc._RF.push(n,"dbef7FLXdFLLKnIt7ehP/LL","Player");t("PlayerDeadEvent");cc.Class({extends:cc.Component,properties:{runSpeed:800,jumpSpeed:200,nomalGravity:6,dropGravity:20,shadowNode:cc.Node},init:function(t){this.controller=t,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.body=this.getComponent(cc.RigidBody),this.playerAnim=this.getComponent(cc.Animation),this.originPosition=this.node.position},onKeyDown:function(t){switch(t.keyCode){case cc.KEY.up:case cc.KEY.space:this.controller.onTryJump();break;case cc.KEY.down:this.controller.onTryDrop()}},onBeginContact:function(t,n,e){switch(e.tag){case 666:this.controller.onTryLand();break;case 444:CR.emit("player_dead",{distance:this.getRunDistance()}),cc.log("you are dead")}},lateUpdate:function(){this.shadowNode.position=this.node.position},run:function(){this.playerAnim.play("run"),this.body.gravityScale=this.nomalGravity;var t=this.body.linearVelocity;t.x=this.runSpeed,this.body.linearVelocity=t},jump1:function(){this.playerAnim.play("jump");var t=this.body.linearVelocity;t.y=this.jumpSpeed,this.body.linearVelocity=t},jump2:function(){this.playerAnim.play("roll");var t=this.body.linearVelocity;t.y=this.jumpSpeed,this.body.linearVelocity=t},drop:function(){this.body.gravityScale=this.dropGravity},land:function(){this.body.gravityScale=6,this.playerAnim.play("run")},getRunDistance:function(){return Math.floor((this.node.x-this.originPosition.x)/10)},accelerate:function(t){this.runSpeed+=t;var n=this.body.linearVelocity;n.x=this.runSpeed,this.body.linearVelocity=n},getRunSpeed:function(){return this.runSpeed/100}}),cc._RF.pop()},{PlayerDeadEvent:"PlayerDeadEvent"}],RunningController:[function(t,n,e){"use strict";cc._RF.push(n,"c68d6DOFsJDk4EuSbFXCSqj","RunningController");var o=cc.Class({showRunningScene:function(){var t=this;this.enablePhysicsSystem(),cc.director.loadScene("running",function(n,e){t.runningScene=e.getChildByName("Canvas").getComponent("RunningScene"),t.runningScene.init(t)})},enablePhysicsSystem:function(){var t=cc.director.getPhysicsManager();t.enabled=!0,t.debugDrawFlags=0},disablePhysicsSystem:function(){cc.director.getPhysicsManager().enabled=!1}});n.exports=o,cc._RF.pop()},{}],RunningScene:[function(t,n,e){"use strict";cc._RF.push(n,"25984ki9b9EFp7qINjL1/+2","RunningScene");var o=t("PlayerController"),i=t("Player"),r=t("CrMapController"),s=t("CrMap"),c=(t("PlayerDeadEvent"),t("OverController"));cc.Class({extends:cc.Component,properties:{player:i,crMap:s,countNumber:3,countLabel:cc.Label,scoreLabel:cc.Label,speedLabel:cc.Label,level:1},onLoad:function(){},init:function(t){var n=this;this.controller=t,this.playerController=new o,this.playerController.init(this.player),this.crMapController=new r,this.crMapController.init(this.crMap),this.countLabel.string="READY",this.schedule(function(){n.countNumber<=-1?(n.countLabel.node.active=!1,n.unscheduleAllCallbacks(),n.startGame()):0===n.countNumber?n.countLabel.string="GO!":n.countLabel.string=n.countNumber+"",n.countNumber--},1),CR.once("player_dead",function(t){cc.log("score:"+t.detail.distance);var n=new c;n.setOverScore(t.detail.distance),n.showOverScene()})},startGame:function(){var t=this;this.initEvents(),this.playerController.run(),this.schedule(function(){var n=t.playerController.getRunDistance();t.scoreLabel.string=n+"ç±³",t.speedLabel.string=t.playerController.getRunSpeed()+"m/s",n>1e3*t.level&&(t.playerController.accelerate(),t.level++,t.speedLabel.string=t.playerController.getRunSpeed()+"m/s");var e=t.playerController.getPlayerPosition();t.node.convertToWorldSpaceAR(e).y<-100&&CR.emit("player_dead",{distance:t.playerController.getRunDistance()})},.1)},initEvents:function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(n){n.getLocationX()>cc.winSize.width/2?t.playerController.onTryJump():t.playerController.onTryDrop()},this)}}),cc._RF.pop()},{CrMap:"CrMap",CrMapController:"CrMapController",OverController:"OverController",Player:"Player",PlayerController:"PlayerController",PlayerDeadEvent:"PlayerDeadEvent"}],TestNode:[function(t,n,e){"use strict";cc._RF.push(n,"a74c7FKE2RAjZ4dW3g6R11t","TestNode"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.testNode=this.node}}),cc._RF.pop()},{}],"state-machine":[function(t,n,e){"use strict";cc._RF.push(n,"ca27c/6AQZGeIm68n1CTBSP","state-machine");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,i){"object"===(void 0===e?"undefined":o(e))&&"object"===(void 0===n?"undefined":o(n))?n.exports=i():"function"==typeof define&&define.amd?define("StateMachine",[],i):"object"===(void 0===e?"undefined":o(e))?e.StateMachine=i():t.StateMachine=i()}(void 0,function(){return function(t){function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=5)}([function(t,n,e){t.exports=function(t,n){var e,o,i;for(e=1;e<arguments.length;e++){o=arguments[e];for(i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}return t}},function(t,n,e){var o=e(0);t.exports={build:function(t,n){var e,i,r,s=n.plugins;for(e=0,i=s.length;e<i;e++)(r=s[e]).methods&&o(t,r.methods),r.properties&&Object.defineProperties(t,r.properties)},hook:function(t,n,e){var o,i,r,s,c=t.config.plugins,a=[t.context];for(e&&(a=a.concat(e)),o=0,i=c.length;o<i;o++)s=c[o],(r=c[o][n])&&r.apply(s,a)}}},function(t,n,e){function o(t){if(0===t.length)return t;var n,e,o=t.split(/[_-]/);if(1===o.length&&o[0][0].toLowerCase()===o[0][0])return t;for(e=o[0].toLowerCase(),n=1;n<o.length;n++)e=e+o[n].charAt(0).toUpperCase()+o[n].substring(1).toLowerCase();return e}o.prepended=function(t,n){return n=o(n),t+n[0].toUpperCase()+n.substring(1)},t.exports=o},function(t,n,e){function i(t,n){t=t||{},this.options=t,this.defaults=n.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(t.init),this.data=this.configureData(t.data),this.methods=this.configureMethods(t.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(t.transitions||[]),this.plugins=this.configurePlugins(t.plugins,n.plugin)}var r=e(0),s=e(2);r(i.prototype,{addState:function(t){this.map[t]||(this.states.push(t),this.addStateLifecycleNames(t),this.map[t]={})},addStateLifecycleNames:function(t){this.lifecycle.onEnter[t]=s.prepended("onEnter",t),this.lifecycle.onLeave[t]=s.prepended("onLeave",t),this.lifecycle.on[t]=s.prepended("on",t)},addTransition:function(t){this.transitions.indexOf(t)<0&&(this.transitions.push(t),this.addTransitionLifecycleNames(t))},addTransitionLifecycleNames:function(t){this.lifecycle.onBefore[t]=s.prepended("onBefore",t),this.lifecycle.onAfter[t]=s.prepended("onAfter",t),this.lifecycle.on[t]=s.prepended("on",t)},mapTransition:function(t){var n=t.name,e=t.from,o=t.to;return this.addState(e),"function"!=typeof o&&this.addState(o),this.addTransition(n),this.map[e][n]=t,t},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(t){return"string"==typeof t?this.mapTransition(r({},this.defaults.init,{to:t,active:!0})):"object"===(void 0===t?"undefined":o(t))?this.mapTransition(r({},this.defaults.init,t,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(t){return"function"==typeof t?t:"object"===(void 0===t?"undefined":o(t))?function(){return t}:function(){return{}}},configureMethods:function(t){return t||{}},configurePlugins:function(t,n){var e,o,i;for(e=0,o=(t=t||[]).length;e<o;e++)"function"==typeof(i=t[e])&&(t[e]=i=i()),i.configure&&i.configure(this);return t},configureTransitions:function(t){var n,e,o,i,r,s=this.defaults.wildcard;for(e=0;e<t.length;e++)for(o=t[e],i=Array.isArray(o.from)?o.from:[o.from||s],r=o.to||s,n=0;n<i.length;n++)this.mapTransition({name:o.name,from:i[n],to:r})},transitionFor:function(t,n){var e=this.defaults.wildcard;return this.map[t][n]||this.map[e][n]},transitionsFor:function(t){var n=this.defaults.wildcard;return Object.keys(this.map[t]).concat(Object.keys(this.map[n]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),t.exports=i},function(t,n,e){function o(t,n){this.context=t,this.config=n,this.state=n.init.from,this.observers=[t]}var i=e(0),r=e(6),s=e(1),c=[null,[]];i(o.prototype,{init:function(t){if(i(this.context,this.config.data.apply(this.context,t)),s.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(t){return Array.isArray(t)?t.indexOf(this.state)>=0:this.state===t},isPending:function(){return this.pending},can:function(t){return!this.isPending()&&!!this.seek(t)},cannot:function(t){return!this.can(t)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(t,n){var e=this.config.defaults.wildcard,o=this.config.transitionFor(this.state,t),i=o&&o.to;return"function"==typeof i?i.apply(this.context,n):i===e?this.state:i},fire:function(t,n){return this.transit(t,this.state,this.seek(t,n),n)},transit:function(t,n,e,o){var i=this.config.lifecycle,r=this.config.options.observeUnchangedState||n!==e;return e?this.isPending()?this.context.onPendingTransition(t,n,e):(this.config.addState(e),this.beginTransit(),o.unshift({transition:t,from:n,to:e,fsm:this.context}),this.observeEvents([this.observersForEvent(i.onBefore.transition),this.observersForEvent(i.onBefore[t]),r?this.observersForEvent(i.onLeave.state):c,r?this.observersForEvent(i.onLeave[n]):c,this.observersForEvent(i.on.transition),r?["doTransit",[this]]:c,r?this.observersForEvent(i.onEnter.state):c,r?this.observersForEvent(i.onEnter[e]):c,r?this.observersForEvent(i.on[e]):c,this.observersForEvent(i.onAfter.transition),this.observersForEvent(i.onAfter[t]),this.observersForEvent(i.on[t])],o)):this.context.onInvalidTransition(t,n,e)},beginTransit:function(){this.pending=!0},endTransit:function(t){return this.pending=!1,t},failTransit:function(t){throw this.pending=!1,t},doTransit:function(t){this.state=t.to},observe:function(t){if(2===t.length){var n={};n[t[0]]=t[1],this.observers.push(n)}else this.observers.push(t[0])},observersForEvent:function(t){for(var n,e=0,o=this.observers.length,i=[];e<o;e++)(n=this.observers[e])[t]&&i.push(n);return[t,i,!0]},observeEvents:function(t,n,e,o){if(0===t.length)return this.endTransit(void 0===o||o);var i=t[0][0],r=t[0][1],c=t[0][2];if(n[0].event=i,i&&c&&i!==e&&s.hook(this,"lifecycle",n),0===r.length)return t.shift(),this.observeEvents(t,n,i,o);var a=r.shift(),u=a[i].apply(a,n);return u&&"function"==typeof u.then?u.then(this.observeEvents.bind(this,t,n,i)).catch(this.failTransit.bind(this)):!1===u?this.endTransit(!1):this.observeEvents(t,n,i,u)},onInvalidTransition:function(t,n,e){throw new r("transition is invalid in current state",t,n,e,this.state)},onPendingTransition:function(t,n,e){throw new r("transition is invalid while previous transition is still in progress",t,n,e,this.state)}}),t.exports=o},function(t,n,e){function i(t){return r(this||{},t)}function r(t,n){return s(t,new l(n,i)),t._fsm(),t}function s(t,n){if("object"!==(void 0===t?"undefined":o(t))||Array.isArray(t))throw Error("StateMachine can only be applied to objects");u.build(t,n),Object.defineProperties(t,f),c(t,d),c(t,n.methods),n.allTransitions().forEach(function(n){t[a(n)]=function(){return this._fsm.fire(n,[].slice.call(arguments))}}),t._fsm=function(){this._fsm=new h(this,n),this._fsm.init(arguments)}}var c=e(0),a=e(2),u=e(1),l=e(3),h=e(4),d={is:function(t){return this._fsm.is(t)},can:function(t){return this._fsm.can(t)},cannot:function(t){return this._fsm.cannot(t)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(t,n,e){return this._fsm.onInvalidTransition(t,n,e)},onPendingTransition:function(t,n,e){return this._fsm.onPendingTransition(t,n,e)}},f={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(t){throw Error("use transitions to change state")}}};i.version="3.0.1",i.factory=function(){var t,n;"function"==typeof arguments[0]?(t=arguments[0],n=arguments[1]||{}):(t=function(){this._fsm.apply(this,arguments)},n=arguments[0]||{});var e=new l(n,i);return s(t.prototype,e),t.prototype._fsm.config=e,t},i.apply=r,i.defaults={wildcard:"*",init:{name:"init",from:"none"}},t.exports=i},function(t,n,e){t.exports=function(t,n,e,o,i){this.message=t,this.transition=n,this.from=e,this.to=o,this.current=i}}])}),cc._RF.pop()},{}]},{},["CocosRun","CrMapController","MenuController","OverController","PlayerController","RunningController","PlayerDeadEvent","Camera","MapGetFirstRoadEvent","MapUpdateRoadEvent","PlayerFsm","state-machine","OverModel","CrCamera","CrMap","Player","LodingScene","MenuScene","OverScene","RunningScene","Game","TestNode"]);